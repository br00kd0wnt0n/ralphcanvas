"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/canvas/elements/add";
exports.ids = ["pages/api/canvas/elements/add"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcanvas%2Felements%2Fadd&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcanvas%2Felements%2Fadd.ts&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcanvas%2Felements%2Fadd&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcanvas%2Felements%2Fadd.ts&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_canvas_elements_add_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/canvas/elements/add.ts */ \"(api)/./pages/api/canvas/elements/add.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_canvas_elements_add_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_canvas_elements_add_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/canvas/elements/add\",\n        pathname: \"/api/canvas/elements/add\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_canvas_elements_add_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmNhbnZhcyUyRmVsZW1lbnRzJTJGYWRkJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZjYW52YXMlMkZlbGVtZW50cyUyRmFkZC50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUMrRDtBQUMvRDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsOERBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLDhEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL3JhbHBoLWNhbnZhcy8/ZTk0NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL2NhbnZhcy9lbGVtZW50cy9hZGQudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jYW52YXMvZWxlbWVudHMvYWRkXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvY2FudmFzL2VsZW1lbnRzL2FkZFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcanvas%2Felements%2Fadd&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcanvas%2Felements%2Fadd.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/canvas/elements/add.ts":
/*!******************************************!*\
  !*** ./pages/api/canvas/elements/add.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _types_canvas__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/types/canvas */ \"(api)/./src/types/canvas.ts\");\n\n\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(\"https://fzffyqdbefcqgkhwduhd.supabase.co\", process.env.SUPABASE_SERVICE_ROLE_KEY);\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    try {\n        const { element, canvasId = \"default\" } = req.body;\n        if (!element || !element.id || !element.type) {\n            return res.status(400).json({\n                error: \"Invalid element data\"\n            });\n        }\n        // Create the operation\n        const operation = {\n            canvas_id: canvasId,\n            operation_type: _types_canvas__WEBPACK_IMPORTED_MODULE_1__.OperationType.ADD,\n            element_id: element.id,\n            element: element,\n            created_by: \"system\" // In a real app, this would be the authenticated user\n        };\n        // Insert the operation\n        const { data: operationData, error: operationError } = await supabase.from(\"canvas_operations\").insert(operation).select().single();\n        if (operationError) {\n            console.error(\"Error saving operation:\", operationError);\n            return res.status(500).json({\n                error: \"Failed to save operation\"\n            });\n        }\n        // Get the current state\n        const { data: currentState, error: stateError } = await supabase.from(\"canvas_states\").select(\"*\").eq(\"canvas_id\", canvasId).order(\"version\", {\n            ascending: false\n        }).limit(1).single();\n        if (stateError && stateError.code !== \"PGRST116\") {\n            console.error(\"Error fetching current state:\", stateError);\n            return res.status(500).json({\n                error: \"Failed to fetch current state\"\n            });\n        }\n        // Create new state\n        const newState = {\n            canvas_id: canvasId,\n            version: (currentState?.version || 0) + 1,\n            state: {\n                elements: {\n                    ...currentState?.state?.elements || {},\n                    [element.id]: element\n                },\n                version: (currentState?.version || 0) + 1,\n                lastModified: new Date().toISOString(),\n                metadata: {\n                    name: currentState?.state?.metadata?.name || \"Untitled Canvas\",\n                    createdBy: currentState?.state?.metadata?.createdBy || \"system\",\n                    createdAt: currentState?.state?.metadata?.createdAt || new Date().toISOString(),\n                    lastModifiedBy: \"system\"\n                }\n            },\n            created_by: \"system\"\n        };\n        // Insert the new state\n        const { data: newStateData, error: newStateError } = await supabase.from(\"canvas_states\").insert(newState).select().single();\n        if (newStateError) {\n            console.error(\"Error saving new state:\", newStateError);\n            return res.status(500).json({\n                error: \"Failed to save new state\"\n            });\n        }\n        return res.status(200).json({\n            success: true,\n            operation: operationData,\n            state: newStateData.state\n        });\n    } catch (error) {\n        console.error(\"Error in add element handler:\", error);\n        return res.status(500).json({\n            error: \"Internal server error\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBTTtRQUVULElBQUlzQixlQUFlO1lBQ2pCckIsUUFBUW5CLEtBQUssQ0FBQywyQkFBMkJ3QztZQUN6QyxPQUFPNUMsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUEyQjtRQUNsRTtRQUVBLE9BQU9KLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFDMUIwQyxTQUFTO1lBQ1RuQyxXQUFXTztZQUNYZ0IsT0FBT1UsYUFBYVYsS0FBSztRQUMzQjtJQUVGLEVBQUUsT0FBTzdCLE9BQU87UUFDZG1CLFFBQVFuQixLQUFLLENBQUMsaUNBQWlDQTtRQUMvQyxPQUFPSixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBd0I7SUFDL0Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3JhbHBoLWNhbnZhcy8uL3BhZ2VzL2FwaS9jYW52YXMvZWxlbWVudHMvYWRkLnRzPzIyMjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcbmltcG9ydCB7IENhbnZhc0VsZW1lbnQsIE9wZXJhdGlvblR5cGUgfSBmcm9tICdAL3R5cGVzL2NhbnZhcyc7XG5cbmNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KFxuICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxuICBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIVxuKTtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkge1xuICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGVsZW1lbnQsIGNhbnZhc0lkID0gJ2RlZmF1bHQnIH0gPSByZXEuYm9keTtcblxuICAgIGlmICghZWxlbWVudCB8fCAhZWxlbWVudC5pZCB8fCAhZWxlbWVudC50eXBlKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgZWxlbWVudCBkYXRhJyB9KTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgdGhlIG9wZXJhdGlvblxuICAgIGNvbnN0IG9wZXJhdGlvbiA9IHtcbiAgICAgIGNhbnZhc19pZDogY2FudmFzSWQsXG4gICAgICBvcGVyYXRpb25fdHlwZTogT3BlcmF0aW9uVHlwZS5BREQsXG4gICAgICBlbGVtZW50X2lkOiBlbGVtZW50LmlkLFxuICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgIGNyZWF0ZWRfYnk6ICdzeXN0ZW0nIC8vIEluIGEgcmVhbCBhcHAsIHRoaXMgd291bGQgYmUgdGhlIGF1dGhlbnRpY2F0ZWQgdXNlclxuICAgIH07XG5cbiAgICAvLyBJbnNlcnQgdGhlIG9wZXJhdGlvblxuICAgIGNvbnN0IHsgZGF0YTogb3BlcmF0aW9uRGF0YSwgZXJyb3I6IG9wZXJhdGlvbkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2NhbnZhc19vcGVyYXRpb25zJylcbiAgICAgIC5pbnNlcnQob3BlcmF0aW9uKVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAob3BlcmF0aW9uRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBvcGVyYXRpb246Jywgb3BlcmF0aW9uRXJyb3IpO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gc2F2ZSBvcGVyYXRpb24nIH0pO1xuICAgIH1cblxuICAgIC8vIEdldCB0aGUgY3VycmVudCBzdGF0ZVxuICAgIGNvbnN0IHsgZGF0YTogY3VycmVudFN0YXRlLCBlcnJvcjogc3RhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdjYW52YXNfc3RhdGVzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmVxKCdjYW52YXNfaWQnLCBjYW52YXNJZClcbiAgICAgIC5vcmRlcigndmVyc2lvbicsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuICAgICAgLmxpbWl0KDEpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoc3RhdGVFcnJvciAmJiBzdGF0ZUVycm9yLmNvZGUgIT09ICdQR1JTVDExNicpIHsgLy8gUEdSU1QxMTYgaXMgXCJubyByb3dzIHJldHVybmVkXCJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGN1cnJlbnQgc3RhdGU6Jywgc3RhdGVFcnJvcik7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBjdXJyZW50IHN0YXRlJyB9KTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgbmV3IHN0YXRlXG4gICAgY29uc3QgbmV3U3RhdGUgPSB7XG4gICAgICBjYW52YXNfaWQ6IGNhbnZhc0lkLFxuICAgICAgdmVyc2lvbjogKGN1cnJlbnRTdGF0ZT8udmVyc2lvbiB8fCAwKSArIDEsXG4gICAgICBzdGF0ZToge1xuICAgICAgICBlbGVtZW50czoge1xuICAgICAgICAgIC4uLihjdXJyZW50U3RhdGU/LnN0YXRlPy5lbGVtZW50cyB8fCB7fSksXG4gICAgICAgICAgW2VsZW1lbnQuaWRdOiBlbGVtZW50XG4gICAgICAgIH0sXG4gICAgICAgIHZlcnNpb246IChjdXJyZW50U3RhdGU/LnZlcnNpb24gfHwgMCkgKyAxLFxuICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICBuYW1lOiBjdXJyZW50U3RhdGU/LnN0YXRlPy5tZXRhZGF0YT8ubmFtZSB8fCAnVW50aXRsZWQgQ2FudmFzJyxcbiAgICAgICAgICBjcmVhdGVkQnk6IGN1cnJlbnRTdGF0ZT8uc3RhdGU/Lm1ldGFkYXRhPy5jcmVhdGVkQnkgfHwgJ3N5c3RlbScsXG4gICAgICAgICAgY3JlYXRlZEF0OiBjdXJyZW50U3RhdGU/LnN0YXRlPy5tZXRhZGF0YT8uY3JlYXRlZEF0IHx8IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICBsYXN0TW9kaWZpZWRCeTogJ3N5c3RlbSdcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNyZWF0ZWRfYnk6ICdzeXN0ZW0nXG4gICAgfTtcblxuICAgIC8vIEluc2VydCB0aGUgbmV3IHN0YXRlXG4gICAgY29uc3QgeyBkYXRhOiBuZXdTdGF0ZURhdGEsIGVycm9yOiBuZXdTdGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2NhbnZhc19zdGF0ZXMnKVxuICAgICAgLmluc2VydChuZXdTdGF0ZSlcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLnNpbmdsZSgpO1xuXG4gICAgaWYgKG5ld1N0YXRlRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBuZXcgc3RhdGU6JywgbmV3U3RhdGVFcnJvcik7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byBzYXZlIG5ldyBzdGF0ZScgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBvcGVyYXRpb246IG9wZXJhdGlvbkRhdGEsXG4gICAgICBzdGF0ZTogbmV3U3RhdGVEYXRhLnN0YXRlXG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBhZGQgZWxlbWVudCBoYW5kbGVyOicsIGVycm9yKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gIH1cbn0gIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsIk9wZXJhdGlvblR5cGUiLCJzdXBhYmFzZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImVsZW1lbnQiLCJjYW52YXNJZCIsImJvZHkiLCJpZCIsInR5cGUiLCJvcGVyYXRpb24iLCJjYW52YXNfaWQiLCJvcGVyYXRpb25fdHlwZSIsIkFERCIsImVsZW1lbnRfaWQiLCJjcmVhdGVkX2J5IiwiZGF0YSIsIm9wZXJhdGlvbkRhdGEiLCJvcGVyYXRpb25FcnJvciIsImZyb20iLCJpbnNlcnQiLCJzZWxlY3QiLCJzaW5nbGUiLCJjb25zb2xlIiwiY3VycmVudFN0YXRlIiwic3RhdGVFcnJvciIsImVxIiwib3JkZXIiLCJhc2NlbmRpbmciLCJsaW1pdCIsImNvZGUiLCJuZXdTdGF0ZSIsInZlcnNpb24iLCJzdGF0ZSIsImVsZW1lbnRzIiwibGFzdE1vZGlmaWVkIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwibWV0YWRhdGEiLCJuYW1lIiwiY3JlYXRlZEJ5IiwiY3JlYXRlZEF0IiwibGFzdE1vZGlmaWVkQnkiLCJuZXdTdGF0ZURhdGEiLCJuZXdTdGF0ZUVycm9yIiwic3VjY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/canvas/elements/add.ts\n");

/***/ }),

/***/ "(api)/./src/types/canvas.ts":
/*!*****************************!*\
  !*** ./src/types/canvas.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OperationType: () => (/* binding */ OperationType)\n/* harmony export */ });\nvar OperationType;\n(function(OperationType) {\n    OperationType[\"ADD\"] = \"ADD\";\n    OperationType[\"UPDATE\"] = \"UPDATE\";\n    OperationType[\"DELETE\"] = \"DELETE\";\n})(OperationType || (OperationType = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvdHlwZXMvY2FudmFzLnRzIiwibWFwcGluZ3MiOiI7Ozs7O1VBQVlBOzs7O0dBQUFBLGtCQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JhbHBoLWNhbnZhcy8uL3NyYy90eXBlcy9jYW52YXMudHM/NDE3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZW51bSBPcGVyYXRpb25UeXBlIHtcbiAgQUREID0gJ0FERCcsXG4gIFVQREFURSA9ICdVUERBVEUnLFxuICBERUxFVEUgPSAnREVMRVRFJ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhbnZhc0VsZW1lbnQge1xuICBpZDogc3RyaW5nO1xuICB0eXBlOiBzdHJpbmc7XG4gIHByb3BlcnRpZXM6IFJlY29yZDxzdHJpbmcsIGFueT47XG4gIGNyZWF0ZWRBdDogRGF0ZTtcbiAgbW9kaWZpZWRBdDogRGF0ZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYW52YXNPcGVyYXRpb24ge1xuICB0eXBlOiBPcGVyYXRpb25UeXBlO1xuICBlbGVtZW50SWQ6IHN0cmluZztcbiAgZWxlbWVudD86IENhbnZhc0VsZW1lbnQ7XG4gIHRpbWVzdGFtcDogRGF0ZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYW52YXNNZXRhZGF0YSB7XG4gIG5hbWU6IHN0cmluZztcbiAgY3JlYXRlZEJ5OiBzdHJpbmc7XG4gIGNyZWF0ZWRBdDogRGF0ZTtcbiAgbGFzdE1vZGlmaWVkQnk6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYW52YXNTdGF0ZSB7XG4gIGVsZW1lbnRzOiBSZWNvcmQ8c3RyaW5nLCBDYW52YXNFbGVtZW50PjtcbiAgdmVyc2lvbjogbnVtYmVyO1xuICBsYXN0TW9kaWZpZWQ6IERhdGU7XG4gIG1ldGFkYXRhOiBDYW52YXNNZXRhZGF0YTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYW52YXNTbmFwc2hvdCB7XG4gIGlkOiBzdHJpbmc7XG4gIHN0YXRlOiBDYW52YXNTdGF0ZTtcbiAgY3JlYXRlZEF0OiBEYXRlO1xuICBjcmVhdGVkQnk6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYW52YXNDb2xsYWJvcmF0aW9uU2Vzc2lvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIGNhbnZhc0lkOiBzdHJpbmc7XG4gIHVzZXJJZDogc3RyaW5nO1xuICBqb2luZWRBdDogRGF0ZTtcbiAgbGFzdEFjdGl2ZTogRGF0ZTtcbiAgY3Vyc29yPzoge1xuICAgIHg6IG51bWJlcjtcbiAgICB5OiBudW1iZXI7XG4gICAgdXNlcklkOiBzdHJpbmc7XG4gIH07XG59ICJdLCJuYW1lcyI6WyJPcGVyYXRpb25UeXBlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/types/canvas.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcanvas%2Felements%2Fadd&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcanvas%2Felements%2Fadd.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();